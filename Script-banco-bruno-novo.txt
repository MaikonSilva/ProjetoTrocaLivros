CREATE TABLE USUARIO (
N_COD_USUARIO INT PRIMARY KEY AUTO_INCREMENT,
V_NOME VARCHAR(70),
V_LOGIN VARCHAR(18),
V_SENHA VARCHAR(18),
V_EMAIL VARCHAR(50),
V_CPF VARCHAR(15),
V_TELEFONE VARCHAR(15),
V_CELULAR VARCHAR(15),
V_CIDADE VARCHAR(30),
V_BAIRRO VARCHAR(50),
V_UF VARCHAR(2),
V_CEP VARCHAR(15),
N_TIPO_USUARIO INT,
B_ATIVO VARCHAR(1),
D_DATA_CADASTRO DATETIME,
D_DATE_ULTIMO_LOGIN DATETIME,
V_FOTO VARCHAR(300),
V_IDADE INT
);


CREATE TABLE CATEGORIA_LIVRO (
N_COD_CATEGORIA INT PRIMARY KEY AUTO_INCREMENT,
V_GENERO VARCHAR(100)
);


CREATE TABLE LIVRO (
N_COD_LIVRO INT PRIMARY KEY AUTO_INCREMENT,
V_FOTO VARCHAR(100),
V_TITULO VARCHAR(50),
V_AUTOR VARCHAR(50),
V_ESTADO_LIVRO VARCHAR(50),
D_ANO DATE,
V_OBSERVACAO VARCHAR(255),
N_COD_CATEGORIA_IE INT,
N_COD_USUARIO_IE INT,
FOREIGN KEY(N_COD_CATEGORIA_IE) REFERENCES CATEGORIA_LIVRO (N_COD_CATEGORIA),
FOREIGN KEY(N_COD_USUARIO_IE) REFERENCES USUARIO (N_COD_USUARIO)
);


CREATE TABLE LIVRO_DESEJADO (
N_COD_LIVRO_DESEJADO INT PRIMARY KEY AUTO_INCREMENT,
V_TITULO VARCHAR(50),
D_ANO INT,
N_COD_CATEGORIA_IE INT,
N_COD_USUARIO_IE INT,
FOREIGN KEY(N_COD_CATEGORIA_IE) REFERENCES CATEGORIA_LIVRO (N_COD_CATEGORIA),
FOREIGN KEY(N_COD_USUARIO_IE) REFERENCES USUARIO (N_COD_USUARIO)
);

CREATE TABLE AJUDA (
N_COD_AJUDA INT PRIMARY KEY AUTO_INCREMENT,
N_COD_USUARIO_IE INT,
V_TITULO VARCHAR(30),
V_TIPO VARCHAR(15),
V_MENSAGEM VARCHAR(255),
FOREIGN KEY(N_COD_USUARIO_IE) REFERENCES USUARIO (N_COD_USUARIO)
);


CREATE TABLE COMENTARIO (
N_COD_COMENTARIO INT PRIMARY KEY AUTO_INCREMENT,
V_AVALIACAO VARCHAR(5),
V_COMENTARIO VARCHAR(255),
N_COD_USUARIO_IE INT,
N_COD_LIVRO_IE INT,
FOREIGN KEY(N_COD_LIVRO_IE) REFERENCES LIVRO (N_COD_LIVRO),
FOREIGN KEY(N_COD_USUARIO_IE) REFERENCES USUARIO (N_COD_USUARIO)
);


CREATE TABLE TROCA (
N_COD_TROCA INT PRIMARY KEY AUTO_INCREMENT,
N_COD_USUARIO_IE INT,
N_COD_LIVRO_SOLICITANTE INT,
D_DATA_FINALIZOU DATE,
B_ATIVO VARCHAR(1),
V_AVALIACAO_TROCA VARCHAR(255),
V_MENSAGEM_TROCA VARCHAR(255),
D_DATA_MENSAGEM DATETIME,
D_DATA DATETIME,
V_STATUS VARCHAR(15),
FOREIGN KEY(N_COD_USUARIO_IE) REFERENCES USUARIO (N_COD_USUARIO),
FOREIGN KEY(N_COD_LIVRO_SOLICITANTE) REFERENCES LIVRO (N_COD_LIVRO)
);




